function inserirLinha(){var a=document.getElementById("clone"),b=document.getElementById("tabelainclusao"),a=a.cloneNode(!0);b.appendChild(a);$(a).closest("tr").find("#qtdalimento").val("");$(a).closest("tr").find("#alimentoforalista").val("");$(a).closest("tr").find("#carboidratos").val("");$(a).closest("tr").find("#alimentoforalista").removeAttr("readonly");$(a).closest("tr").find("#carboidratos").removeAttr("readonly")}
$(document).on("change",".alimento",function(a){a.preventDefault;a=this.value;var b=$(this).parent().parent();"-1"==a?(b.find("#alimentoforalista").removeAttr("readonly"),b.find("#carboidratos").removeAttr("readonly")):(b.find("#alimentoforalista").attr("readonly","readonly"),b.find("#alimentoforalista").val(""),b.find("#carboidratos").attr("readonly","readonly"),b.find("#carboidratos").val(""))});
$(document).on("change","#refeicaoins",function(a){a.preventDefault;a=this.value;$("#formins");var b=$("#formins").find(".dia").val(),c=$("#formins").find("#mes").val(),d=$("#formins").find("#ano").val();$.ajax({type:"POST",url:"/contagemcarboidratos/itensControleGlicemico/buscatotalrefeicao/",data:{dia:b,mes:c,ano:d,refeicaoid:a},dataType:"json",success:function(a,b,c){null!=a.total&&($("#formins").find("#qtdcarboidratos").val(""),a=a.total.toFixed(2),$("#formins").find("#qtdcarboidratos").val(a))},
error:function(a,b,c){}})});
function carregaContagem(){$("#formins");var a=$("#formins").find(".dia").val(),b=$("#formins").find("#mes").val(),c=$("#formins").find("#ano").val(),d=$("#formins").find("#refeicaoins").val();$.ajax({type:"POST",url:"/contagemcarboidratos/itensControleGlicemico/buscatotalrefeicao/",data:{dia:a,mes:b,ano:c,refeicaoid:d},dataType:"json",success:function(a,b,c){null!=a.total&&($("#formins").find("#qtdcarboidratos").val(""),a=a.total.toFixed(2),$("#formins").find("#qtdcarboidratos").val(a))},error:function(a,
b,c){}})}
function carregaContagemIns(a){$("#formins");var b=$("#formins").find(".dia").val(),c=$("#formins").find("#mes").val(),d=$("#formins").find("#ano").val(),e=$("#formins").find("#valorglicemiapre").val(),f=$("#formins").find("#valorglicemiapos").val(),g=$("#formins").find("#qtdcarboidratos").val(),h=$("#formins").find("#refeicaoins").val();$.ajax({type:"POST",url:"/contagemcarboidratos/itensControleGlicemico/carregaCalculoIns",data:{tipo:a,dia:b,mes:c,ano:d,refeicaoid:h,valorglicemiapre:e,valorglicemiapos:f,
qtdcarboidratos:g},dataType:"json",success:function(b,k,c){"0"==a&&null!=b.totalpre&&($("#formins").find("#qtdinsulinarapidapre").val(""),k=b.totalpre.toFixed(0),$("#formins").find("#qtdinsulinarapidapre").val(k));"1"==a&&null!=b.totalpos&&($("#formins").find("#qtdinsulinarapidapos").val(""),b=b.totalpos.toFixed(0),$("#formins").find("#qtdinsulinarapidapos").val(b))},error:function(a,b,c){for(b=0;b<a.responseJSON.length;)b++}})}
function carregaContagemAlt(a){var b=$("#formalt").parent().parent(),c=b.find("#diaatual").val(),d=b.find("#mesalt").val(),e=b.find("#ano").val(),f=b.find("#valorglicemiaprealt").val(),g=b.find("#valorglicemiaposalt").val(),h=b.find("#qtdcarboidratoalt").val(),l=b.find("#refeicaoalt").val();$.ajax({type:"POST",url:"/contagemcarboidratos/itensControleGlicemico/carregaCalculoIns",data:{tipo:a,dia:c,mes:d,ano:e,refeicaoid:l,valorglicemiapre:f,valorglicemiapos:g,qtdcarboidratos:h},dataType:"json",success:function(c,
d,e){"0"==a&&null!=c.totalpre&&(b.find("#qtdinsulinarapidaprealt").val(""),d=c.totalpre.toFixed(0),b.find("#qtdinsulinarapidaprealt").val(d));"1"==a&&null!=c.totalpos&&(b.find("#qtdinsulinarapidaposalt").val(""),c=c.totalpos.toFixed(0),b.find("#qtdinsulinarapidaposalt").val(c))},error:function(a,b,c){for(b=0;b<a.responseJSON.length;)b++}})}$(document).on("change","#valorglicemiaprealt",function(a){a.preventDefault;carregaContagemAlt(0)});
$(document).on("change","#valorglicemiaposalt",function(a){a.preventDefault;carregaContagemAlt(1)});$(document).on("click","#calculapre",function(a){carregaContagemIns(0)});$(document).on("click","#calculapos",function(a){carregaContagemIns(1)});